NAME demo_kaartenbalie
STATUS ON
#EXTENT 15000 322000 30000 640000
FONTSET "../fonts/fonts.list"
WEB
  METADATA
    "wms_title"				"Kaartenbalie"
    "wms_onlineresource"		"http://x5.b3p.nl/cgi-bin/mapserv_fwtools?map=/srv/maps/kaartenbalie.map&"
    "wms_srs"				"EPSG:28992"    
    "ows_schemas_location"		"http://schemas.opengeospatial.net"
  END
  IMAGEPATH "temp_images"
END

PROJECTION
  "init=epsg:28992"
END
CONFIG CPL_DEBUG "ON"

# available outputformats
OUTPUTFORMAT
  NAME gif
  DRIVER "GD/GIF"
  MIMETYPE "image/gif"
  IMAGEMODE RGBA
  EXTENSION "gif"
  TRANSPARENT ON
END
OUTPUTFORMAT
  NAME png
  DRIVER "GD/PNG"
  MIMETYPE "image/png"
  IMAGEMODE RGBA
  EXTENSION "png"
  TRANSPARENT ON
END


#symbols:
SYMBOL
	NAME 'circle'
	TYPE ELLIPSE
	FILLED TRUE
	POINTS 1 1 
	END
END
SYMBOL
  NAME 'dashed'
  TYPE ELLIPSE
  POINTS 1 1 END
  FILLED true
  STYLE 6 3 3 6 END
END
SYMBOL
  NAME 'rectangle-train'
  TYPE VECTOR
  POINTS
    0 0
    0 0.6
    1 0.6
    1 0
    0 0
  END
  FILLED TRUE
  STYLE
    8 12 8 12
  END
END


SCALEBAR
	STATUS ON
	UNITS KILOMETERS
	INTERVALS 4
	TRANSPARENT TRUE
	OUTLINECOLOR 0 0 0
END

LEGEND
	STATUS ON
	POSITION LR
	TRANSPARENT TRUE
END
# kaart voor bebouwde kom
LAYER
	NAME bebouwdekom_nl
	GROUP basis
	METADATA
	    "wms_title"	   "bebouwdekom_nl"	    
  	END
  	SIZEUNITS meters
	CONNECTIONTYPE postgis
	CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
	DATA "the_geom from bebouwdekom"
	STATUS ON
	TYPE POLYGON
	DUMP TRUE
	TEMPLATE bla
	TRANSPARENCY 30
	CLASS
		NAME "Bebouwdekom"
		OUTLINECOLOR 100 100 100		
		COLOR 255 0 0		
	END
END

# kaart voor nederlandse basis
LAYER
  NAME basis_nl
  GROUP basis
  METADATA
    "wms_title" "basis_nl"
    "group_title" "basis"
  END
  SIZEUNITS meters
  TYPE POLYGON
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from gd_basis_nl"
  PROJECTION
    "init=epsg:28992"
  END
  
  DUMP TRUE
  TEMPLATE bla
  
  TRANSPARENCY 70
  FILTER "land='Nederland' or length(water)>1"
  CLASS
        EXPRESSION (length('[water]') > 1) 
        NAME "Water"
        STYLE
		COLOR 112 184 255
		OUTLINECOLOR 112 184 255
		ANTIALIAS true
	END
  END
  CLASS
    EXPRESSION (length('[land]') > 1)
    NAME "Landgrens"
    STYLE
    	OUTLINECOLOR 173 90 0
    	#COLOR 240 240 240
    	ANTIALIAS true
    END
  END
  
END

#kaart met de autowegen
LAYER
  NAME autowegen_nl
  GROUP wegen
  METADATA
    "wms_title" "autowegen_nl"
    "group_title" "wegen"
  END
  TYPE LINE
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from gd_autowegen_nl"
  PROJECTION
    "init=epsg:28992"
  END
  DUMP TRUE
  TEMPLATE bla
  TRANSPARENCY 50
  LABELITEM "an_wegnr"
  CLASS
    NAME "Autoweg"
    STYLE
    	COLOR 255 100 0
	SYMBOL "circle"
    	SIZE 2
    	ANTIALIAS true
    END
    LABEL
      ANTIALIAS true
      FONT arial-bold
      TYPE TRUETYPE
      SIZE 8
      MINFEATURESIZE 40
      COLOR 254 254 254
      BACKGROUNDCOLOR 255 0 0
      BACKGROUNDSHADOWCOLOR  -1 -1 -1
      # Dezelfde autoweg minimaal 150 pixels van elkaar meerdere keren labelen
      MINDISTANCE 100
      BUFFER 1
    END
  END
END
# kaart om de E labels te tonen van de wegen
LAYER
  NAME autowegen_elabels
  GROUP wegen
  METADATA
    "wms_title" "autowegen_elabels"
  END
  TYPE LINE
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from gd_autowegen_nl"
  PROJECTION
    "init=epsg:28992"
  END
  DUMP TRUE
  TEMPLATE bla
  TRANSPARENCY 50
  LABELITEM "e_wegnr"
  CLASS
    NAME "Europese Autoweg"
    STYLE
    	COLOR -1 -1 -1
    	ANTIALIAS true
    END
    LABEL
      ANTIALIAS true
      FONT arial-bold
      TYPE TRUETYPE
      SIZE 8
      MINFEATURESIZE 40
      COLOR 254 254 254
      BACKGROUNDCOLOR 51 153 0
      BACKGROUNDSHADOWCOLOR  -1 -1 -1
      # Dezelfde autoweg minimaal 150 pixels van elkaar meerdere keren labelen
      MINDISTANCE 200
      BUFFER 1
    END
  END
END

# kaart met rivieren
LAYER
	NAME rivieren_nl
	GROUP water
	METADATA
	    "wms_title"	   "rivieren_nl"
	    "group_title"  "water"
  	END
  	CONNECTIONTYPE postgis
	CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
	DATA "the_geom from gd_rivieren_nl"
	STATUS ON
	TYPE LINE
	DUMP TRUE
	TEMPLATE bla
	TRANSPARENCY 50
	LABELITEM "naam"
	CLASS
		NAME "Rivieren"
		STYLE
			COLOR 112 184 255
			SYMBOL "circle"
			SIZE 2
			ANTIALIAS true
		END
		LABEL
		      ANTIALIAS true
		      FONT arial-italic
		      TYPE TRUETYPE
		      SIZE 9
		      MINFEATURESIZE 60
		      COLOR 0 0 0
		      # Dezelfde rivier minimaal 150 pixels van elkaar meerdere keren labelen
		      MINDISTANCE 100
		      # alleen voor type lijn objecten. De label staat in de richting van de lijn geschreven
		      ANGLE AUTO
    		END
	END
END

#gemeenten volgens CBS bestand 2006
LAYER
  NAME gemeenten_2006
  GROUP grenzen
  METADATA
    "wms_title" "gemeenten_2006"
    "group_title" "grenzen"
    "gml_include_items" "all"
    "gml_exclude_items" "recsrt,postcode,dek_perc,oid,the_geom"
  END
  TYPE POLYGON
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from gem_2006_cbs"
  PROJECTION
    "init=epsg:28992"
  END
  DUMP TRUE
  TEMPLATE bla
  MAXSCALE 700000
  TRANSPARENCY 50
  LABELITEM "gm_naam"
  CLASS
  	NAME "Gemeenten"
        STYLE
        	COLOR -1 -1 -1
        	OUTLINECOLOR 0 51 102
        	SYMBOL "dashed"
        	ANTIALIAS true
        END
        LABEL
	      ANTIALIAS true
	      FONT arial-bold
	      TYPE TRUETYPE
	      SIZE 13
	      MINFEATURESIZE 80
	      COLOR 0 0 0
	      SHADOWSIZE 0 0
	END
        
  END    
END 

#wijken volgens CBS bestand 2006
LAYER
  NAME wijken_2006
  GROUP grenzen
  METADATA
    "wms_title" "wijken_2006"
    "gml_include_items" "all"
    "gml_exclude_items" "recsrt,gm_code,bu_code,oid,postcode,dek_perc,the_geom,bu_naam_zonder_wijk"
  END
  TYPE POLYGON
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from wijk_2006_cbs"
  PROJECTION
    "init=epsg:28992"
  END
  MAXSCALE 100000
  DUMP TRUE
  TEMPLATE bla
  TRANSPARENCY 40  
  LABELITEM "bu_naam_zonder_wijk"
  CLASS
        NAME "Wijken"
        STYLE
		COLOR -1 -1 -1
		OUTLINECOLOR 90 90 90
		ANTIALIAS true
	END
        LABEL
	      ANTIALIAS true
	      FONT arial-bold
	      TYPE TRUETYPE
	      SIZE 11
	      MINFEATURESIZE 80
	      COLOR 0 0 0  
	      SHADOWSIZE 0 0
	END
  END    
END 

#buurten volgens CBS bestand 2006
LAYER
  NAME buurten_2006
  GROUP grenzen
  METADATA
    "wms_title" "buurten_2006"
    "gml_include_items" "all"
    "gml_exclude_items" "recsrt,oid,the_geom"
  END
  TYPE POLYGON
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from buurt_2006_cbs"
  PROJECTION
    "init=epsg:28992"
  END
  DUMP TRUE
  TEMPLATE bla
  MAXSCALE 70000  
  TRANSPARENCY 40
  LABELITEM "bu_naam"
  CLASSITEM "bu_naam"  
  CLASS
  	# zorgt er voor dat labels die beginnen met 'verspreide' niet worden getoond.
        EXPRESSION /^Verspreide/
        NAME "Buurten"
	COLOR -1 -1 -1
	OUTLINECOLOR 180 180 180
  END
  CLASS
          NAME "Buurten"
          STYLE
          	COLOR -1 -1 -1
          	OUTLINECOLOR 180 180 180
          	ANTIALIAS true
          END
          LABEL
  	      ANTIALIAS true
  	      FONT arial-bold
  	      TYPE TRUETYPE
  	      SIZE 9
  	      MINFEATURESIZE 80
  	      COLOR 0 0 0   
  	      SHADOWSIZE 0 0
  	END
  END 
END

LAYER
  NAME bron_nieuwekaart
  GROUP plannen
  TYPE annotation
  TRANSFORM ll
  FEATURE
    POINTS
      150 -30
    END
    TEXT "Bron: De Nieuwe Kaart van Nederland, Nirov, Den Haag"
  END   
  CLASS
    LABEL 
      TYPE TRUETYPE
      FONT arial-bold
      SIZE 8
      BUFFER 1
      COLOR 0 0 0
      BACKGROUNDCOLOR 255 255 255
      FORCE TRUE
    END
  END 
END
LAYER
  NAME plan_lijnen
  GROUP plannen
  METADATA
    "wms_title" "Plan lijnen"
    "group_title" "Plannen"    
    "gml_include_items" "all"
    "gml_exclude_items" "gid,the_geom"
  END
  TYPE LINE
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from nieuwekaart_line USING UNIQUE gid USING SRID =28992"
  PROJECTION
    "init=epsg:28992"
  END
  DUMP TRUE
  TEMPLATE bla
  TOLERANCE 10
  TRANSPARENCY 40
  MAXSCALE 190000
  #LABELITEM "plannaam"
  CLASS
  	EXPRESSION ('[bestemming]'="bedrijventerrein")
        NAME "Bedrijventerrein"
	STYLE
		COLOR 160 160 160
		SYMBOL "circle"
		SIZE 2
    	END
  END
  CLASS
  	EXPRESSION ('[bestemming]'="gemengd: landelijk")
	NAME "Gemengd: Landelijk"
	STYLE
		COLOR 153 102 0
		SYMBOL "circle"
		SIZE 2
	END
  END
  CLASS
    	EXPRESSION ('[bestemming]'="groen" OR  '[bestemming]'="natuur")
  	NAME "Groen & Natuur"
  	STYLE
  		COLOR 51 153 0
  		SYMBOL "circle"
		SIZE 2
  	END
  END
  CLASS
    	EXPRESSION ('[bestemming]'="nutsvoorziening")
  	NAME "Nutsvoorziening"
  	STYLE
  		COLOR 255 204 0
  		SYMBOL "circle"
  		SIZE 2
  	END
  END
  CLASS
      	EXPRESSION ('[bestemming]'="recreatie" OR '[bestemming]'="sport")
    	NAME "Recreatie & Sport"
    	STYLE
    		COLOR 162 122 255
    		SYMBOL "circle"
    		SIZE 2
    	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="verkeer: spoor")
      	NAME "verkeer: spoor"
      	STYLE
		COLOR 102 102 102
		SYMBOL 'circle'
		SIZE 4
	END
	STYLE
		COLOR 255 255 255
		SYMBOL 'rectangle-train'
		SIZE 2
	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="verkeer: weg")
      	NAME "Recreatie"
      	STYLE
      		COLOR 80 80 80
      		SYMBOL "circle"
      		SIZE 2
      	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="water" OR '[bestemming]'="waterberging")
      	NAME "Water & Waterberging"
      	STYLE
      		OUTLINECOLOR 112 184 255
      		SYMBOL "circle"
      		SIZE 2
      	END
  END  
  CLASS
  	EXPRESSION ('[bestemming]'="wonen")
  	NAME "Wonen"
  	STYLE
  		OUTLINECOLOR 255 0 0
  		SYMBOL "circle"
  		SIZE 2
  	END
  END 
  
END 
LAYER
  NAME plan_polygonen
  GROUP plannen
  METADATA
    "wms_title" "Plan polygonen"
    "group_title" "Plannen"
    "gml_include_items" "all"
    "gml_exclude_items" "gid,the_geom"
  END
  TYPE POLYGON
  STATUS ON
  CONNECTIONTYPE postgis
  CONNECTION "user=demo password=demo dbname=demo_kaartenbalie host=localhost"
  DATA "the_geom from nieuwekaart_polygon USING UNIQUE gid USING SRID =28992"
  PROJECTION
    "init=epsg:28992"
  END
  DUMP TRUE
  TEMPLATE bla
  TRANSPARENCY 40
  MAXSCALE 190000
  #LABELITEM "plannaam"
  CLASS
  	EXPRESSION ('[bestemming]'="agrarisch" OR '[bestemming]'="gemengd: landelijk")
	NAME "Agrarisch & Landelijk"
	STYLE
		COLOR 153 102 0
		OUTLINECOLOR 230 153 0
	END
  END
  CLASS
  	EXPRESSION ('[bestemming]'="bedrijventerrein" OR '[bestemming]'="kantoor")
        NAME "Bedrijventerrein & Kantoor"
	STYLE
		COLOR 199 199 199
		OUTLINECOLOR 160 160 160
    	END
  END
  CLASS
    	EXPRESSION ('[bestemming]'="detailhandel")
          NAME "Detailhandel"
  	STYLE
  		COLOR 255 102 0
  		OUTLINECOLOR 204 82 0
      	END
  END
  CLASS
    	EXPRESSION ('[bestemming]'="gemengd: stedelijk")
          NAME "Gemengd: Stedelijk"
  	STYLE
  		COLOR 210 210 210
  		OUTLINECOLOR 190 190 190
      	END
  END
  CLASS
      	EXPRESSION ('[bestemming]'="glastuinbouw")
        NAME "Gemengd: Stedelijk"
    	STYLE
    		COLOR 71 255 209
    		OUTLINECOLOR 0 224 168
        END
  END
  CLASS
    	EXPRESSION ('[bestemming]'="groen" OR  '[bestemming]'="natuur")
  	NAME "Groen & Natuur"
  	STYLE
  		COLOR 68 204 0
  		OUTLINECOLOR 51 153 0
  	END
  END
  CLASS
    	EXPRESSION ('[bestemming]'="nutsvoorziening")
  	NAME "Nutsvoorziening"
  	STYLE
  		COLOR 255 204 0
  		OUTLINECOLOR 216 199 255
  	END
  END
  CLASS
      	EXPRESSION ('[bestemming]'="recreatie" OR '[bestemming]'="sport" OR '[bestemming]'="verblijfsrecreatie")
    	NAME "(Verblijfs)Recreatie & Sport"
    	STYLE
    		COLOR 216 199 255
    		OUTLINECOLOR 162 122 255
    	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="verkeer: spoor")
      	NAME "verkeer: spoor"
      	STYLE
		COLOR 140 140 140
		OUTLINECOLOR 102 102 102
		
	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="verkeer: weg")
      	NAME "Recreatie"
      	STYLE
      		COLOR 118 118 118
      		OUTLINECOLOR 80 80 80
      	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="voorziening")
	NAME "Recreatie"
	STYLE
		COLOR 255 0 191
		OUTLINECOLOR 204 0 153
	END
  END
  CLASS
        EXPRESSION ('[bestemming]'="water" OR '[bestemming]'="waterberging")
      	NAME "Water & Waterberging"
      	STYLE
      		OUTLINECOLOR 112 184 255
      		COLOR 189 222 255
      	END
  END
  CLASS
  	EXPRESSION ('[bestemming]'="wonen")
  	NAME "Wonen"
  	STYLE
  		OUTLINECOLOR 255 0 0
  		COLOR 255 153 153
  	END
  END 
  
END
END
